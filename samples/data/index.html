<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Data Sample | Quickblox JS SDK</title>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>

  <link rel="shortcut icon" href="https://quickblox.com/favicon.ico">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
  
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <main class="app" id="j-app">
    <p class="auth">Authorize...</p>
  </main>

  <!-- TEMPLATES -->
  <script id="dashboard-tpl" type="text/x-handlebars-template">
    {{!-- Header --}}
    <header id="j-header" class="header">
      <div class="header_body">
        <div class="logo">
          <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
            <g fill="none" fill-rule="evenodd">
              <path fill="#046AD0" d="M8.4765 6.728c0 .9158-.75 1.665-1.667 1.665H1.8094c-.9167 0-1.6667-.7492-1.6667-1.665V1.7336C.1426.818.8926.069 1.8093.069h5.0003c.917 0 1.667.749 1.667 1.6646V6.728M8.4765 18.3816c0 .9155-.75 1.6646-1.667 1.6646H1.8094c-.9167 0-1.6667-.749-1.6667-1.6646V13.387c0-.9154.75-1.6646 1.6667-1.6646h5.0003c.917 0 1.667.7492 1.667 1.6647v4.9946M8.4765 30.035c0 .9154-.75 1.6646-1.667 1.6646H1.8094c-.9167 0-1.6667-.7492-1.6667-1.6647v-4.9943c0-.9158.75-1.665 1.6667-1.665h5.0003c.917 0 1.667.7492 1.667 1.665v4.9942M20.1437 6.728c0 .9158-.75 1.665-1.667 1.665h-5c-.9167 0-1.6667-.7492-1.6667-1.665V1.7336c0-.9156.75-1.6647 1.6667-1.6647h5c.917 0 1.667.749 1.667 1.6646V6.728M20.1437 30.035c0 .9154-.75 1.6646-1.667 1.6646h-5c-.9167 0-1.6667-.7492-1.6667-1.6647v-4.9943c0-.9158.75-1.665 1.6667-1.665h5c.917 0 1.667.7492 1.667 1.665v4.9942M31.811 6.728c0 .9158-.75 1.665-1.6668 1.665h-5c-.9168 0-1.667-.7492-1.667-1.665V1.7336c0-.9156.7502-1.6647 1.667-1.6647h5c.9167 0 1.667.749 1.667 1.6646V6.728M31.811 18.3816c0 .9155-.75 1.6646-1.6668 1.6646h-5c-.9168 0-1.667-.749-1.667-1.6646V13.387c0-.9154.7502-1.6646 1.667-1.6646h5c.9167 0 1.667.7492 1.667 1.6647v4.9946"/>
              <path fill="#4AD24D" d="M35.9778 34.197c0 .9157-.75 1.6648-1.6666 1.6648h-9.167c-.9168 0-1.667-.749-1.667-1.665v-9.156c0-.916.7502-1.665 1.667-1.665h9.167c.9166 0 1.6666.749 1.6666 1.665v9.156"/>
            </g>
          </svg>
        </div>

        <h2 class="header_title">Data Sample</h2>
        <p class="header_user">Logged in as {{full_name}}</p>
      </div>

      <button class="logout" id="j-logout">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
          <g fill="none" fill-rule="evenodd">
            <path d="M-3-3h24v24H-3"/>
            <path fill="#778594" d="M7.09 12.59L8.5 14l5-5-5-5-1.41 1.41L9.67 8H0v2h9.67l-2.58 2.59zM16 0H2C.89 0 0 .9 0 2v4h2V2h14v14H2v-4H0v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2z" class="icon" opacity=".8"/>
          </g>
        </svg>
      </button>
    </header>

    <section class="map">
      <div id="j-map" class="map_gmap"></div>
    </section>
      
    {{!-- Wrapper for places --}}
    <section class="panel">
      <div id="j-places"></div>
    </section>
  </script>

  <script id="places_preview-tpl" type="text/x-handlebars-template">
    <div class="places">
      {{#each items}}
        <div class="places_item j-places" data-id="{{_id}}">
          <h5 class="places_item__title">{{title}}</h5>
          <p class="rate">{{rate}}</p>
          <p class="places_item__desc">{{description}}</p>
        </div>
      {{else}}
        <p class="places_item warning">No places saved, tap on map</p>
      {{/each}}
    </div>
  </script>

  <script id="new_place-tpl" type="text/x-handlebars-template">
    <div class="place_create">
      <button class="back" id="j-to_dashboard">Create new Place</button>

      <div class="form form-create">
        <form id="j-create">
          <input id="latlng" type="hidden" value={{latLng}}>

          <div class="form_item">
            <input id="title" class="inp" type="text" required placeholder="Place name" maxlength="40">
          </div>

          <div class="form_item">
            <input id="description" class="inp" type="text" required placeholder="Description" maxlength="250">
          </div>

          <div class="form_item">
            <label for="rate">Rate</label>
            <input id="rate"  class="inp" type="number" min="0" max="5" step="1" value="0" required>
          </div>

          <div class="form_item">
            <button class="btn btn-create">Create Place</button>
          </div>
        </form>
      </div>
    </div>
  </script>

  <!-- Helper libraries -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAOlglXqBHw1T0G5x1UoVD3sP7FB3wWc6I"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.js"></script>
  <script src="https://unpkg.com/wolfy87-eventemitter@5.1.0/EventEmitter.min.js"></script>
  <!-- Quickblox SDK -->
  <script src="../../quickblox.min.js"></script>
  <!-- APP -->
  <script src="config.js"></script>
  <script src="./js/user.js"></script>
  <script src="./js/map.js"></script>
  <script src="./js/places.js"></script>
  <script src="app.js"></script>
</body>
</html>
